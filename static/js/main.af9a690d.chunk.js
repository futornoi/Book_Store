(this.webpackJsonpshop=this.webpackJsonpshop||[]).push([[0],{182:function(e,t,r){},183:function(e,t,r){},296:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r.n(n),c=r(29),i=r.n(c),o=(r(182),r(52)),s=r(53),u=r(60),d=r(59),l=(r(183),r(315)),j=r(40),p=r(319),b=r(163),O=r(32),h=r(297),f=r(4),m=function(e){var t=e.books,r=e.addCards,n=e.countOfSelectedBook;return Object(f.jsx)(p.a.Group,{itemsPerRow:4,children:t.map((function(e){return Object(f.jsxs)(p.a,{children:[Object(f.jsx)(b.a,{src:e.image,wrapped:!0,ui:!1}),Object(f.jsxs)(p.a.Content,{children:[Object(f.jsx)(p.a.Header,{children:e.title}),Object(f.jsx)(p.a.Meta,{children:Object(f.jsx)("span",{className:"date",children:e.author})})]}),Object(f.jsx)(p.a.Content,{extra:!0,children:Object(f.jsxs)("a",{children:[Object(f.jsx)(O.a,{name:"rub"}),e.price]})}),Object(f.jsxs)(h.a,{onClick:function(){return r(e)},primary:!0,children:["\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432 \u043a\u043e\u0440\u0437\u0438\u043d\u0443 ",n(e.id)]})]},e.id)}))})},x=r.p+"static/media/preloader.372b42cf.gif",y=function(){return Object(f.jsx)("div",{style:{display:"flex",justifyContent:"center",marginTop:"20px"},children:Object(f.jsx)("img",{src:x,alt:"Loading...."})})},C=r(122),v=r.n(C),I=r(156),k=r(14),g=r(157),R=r.n(g),N={isReady:!1,items:null},w=function(e){return{type:"books/IT_IS_READY",payload:e}},E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"books/GET-BOOKS":return Object(k.a)(Object(k.a)({},e),{},{items:t.payload,isReady:!0});case"books/IT_IS_READY":return Object(k.a)(Object(k.a)({},e),{},{isReady:t.payload});default:return e}},A=r(165),D=r(317),S=r(314),B=function(e){var t=e.changeFilterName,r=e.onChangeInput,a=e.inputValue,c=Object(n.useState)("all"),i=Object(A.a)(c,2),o=i[0],s=i[1],u=function(e,r){var n=r.name;s(n),t(n)};return Object(f.jsxs)(D.a,{tabular:!0,children:[Object(f.jsx)(D.a.Item,{name:"all",active:"all"===o,onClick:u,children:"\u0412\u0441\u0435"}),Object(f.jsx)(D.a.Item,{name:"priceUp",active:"priceUp"===o,onClick:u,children:"\u0426\u0435\u043d\u0430(\u0434\u043e\u0440\u043e\u0433\u0438\u0435)"}),Object(f.jsx)(D.a.Item,{name:"priceDown",active:"priceDown"===o,onClick:u,children:"\u0426\u0435\u043d\u0430(\u0434\u0435\u0448\u0435\u0432\u044b\u0435)"}),Object(f.jsx)(D.a.Item,{name:"author",active:"author"===o,onClick:u,children:"\u0410\u0432\u0442\u043e\u0440"}),Object(f.jsx)(D.a.Item,{position:"right",children:Object(f.jsx)(S.a,{icon:"search",value:a,onChange:function(e){r(e.target.value)},placeholder:"Search..."})})]})},T={filterName:"all",inputValue:""},_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHANGE-FILTER-NAME":return Object(k.a)(Object(k.a)({},e),{},{filterName:t.payload});case"ON_CHANGE_INPUT":return Object(k.a)(Object(k.a)({},e),{},{inputValue:t.payload});default:return e}},V=r(107),L=function(e,t,r){return function(e,t){switch(t){case"all":return e;case"priceUp":return Object(V.orderBy)(e,"price","desc");case"priceDown":return Object(V.orderBy)(e,"price","asc");case"author":return Object(V.orderBy)(e,"author","asc");default:return e}}(function(e,t){return e.filter((function(e){return e.title.toLowerCase().indexOf(t.toLowerCase())>=0||e.author.toLowerCase().indexOf(t.toLowerCase())>=0}))}(e,t),r)},G=function(e){Object(u.a)(r,e);var t=Object(d.a)(r);function r(){return Object(o.a)(this,r),t.apply(this,arguments)}return Object(s.a)(r,[{key:"render",value:function(){return Object(f.jsx)(B,{inputValue:this.props.inputValue,changeFilterName:this.props.changeFilterName,onChangeInput:this.props.onChangeInput})}}]),r}(a.a.Component),M=Object(j.b)((function(e){return{inputValue:e.filterReducer.inputValue}}),{changeFilterName:function(e){return{type:"CHANGE-FILTER-NAME",payload:e}},onChangeInput:function(e){return{type:"ON_CHANGE_INPUT",payload:e}}})(G),P=r(164),F={cardItems:[]},H=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_CARDS":return Object(k.a)(Object(k.a)({},e),{},{cardItems:[].concat(Object(P.a)(e.cardItems),[t.payload])});case"DELETE_CARDS":return Object(k.a)(Object(k.a)({},e),{},{cardItems:e.cardItems.filter((function(e){return e.id!==t.payload}))});default:return e}},U=function(e){Object(u.a)(r,e);var t=Object(d.a)(r);function r(){var e;Object(o.a)(this,r);for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).countOfSelectedBook=function(t){return e.props.cardsItems.reduce((function(e,r){return e+(r.id===t?1:0)}),0)},e}return Object(s.a)(r,[{key:"componentDidMount",value:function(){this.props.readyBooks()}},{key:"render",value:function(){return this.props.isReady?Object(f.jsx)(m,{books:L(this.props.books,this.props.inputValue,this.props.filterName),addCards:this.props.addCards,countOfSelectedBook:this.countOfSelectedBook}):Object(f.jsx)(y,{})}}]),r}(n.Component),z=Object(j.b)((function(e,t){return{books:e.booksReducer.items,isReady:e.booksReducer.isReady,inputValue:e.filterReducer.inputValue,filterName:e.filterReducer.filterName,cardsItems:e.cardsReducer.cardItems}}),{readyBooks:function(){return function(){var e=Object(I.a)(v.a.mark((function e(t){var r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(w(!1)),e.next=3,R.a.get("/books.json").then((function(e){return e.data}));case 3:r=e.sent,t({type:"books/GET-BOOKS",payload:r}),t(w(!0));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},addCards:function(e){return{type:"ADD_CARDS",payload:e}}})(U),J=r(316),K=r(318),Y=function(e){var t=e.image,r=e.title,n=e.id,a=e.deleteCards;return Object(f.jsx)(K.a,{divided:!0,verticalAlign:"middle",size:"big",children:Object(f.jsxs)(K.a.Item,{children:[Object(f.jsx)(K.a.Content,{floated:"right",children:Object(f.jsx)(h.a,{onClick:a.bind(undefined,n),color:"red",children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"})}),Object(f.jsx)(b.a,{avatar:!0,src:t}),Object(f.jsx)(K.a.Content,{children:r})]})})},W=function(e){return Object(f.jsxs)(D.a,{size:"massive",children:[Object(f.jsx)(D.a.Item,{name:"editorials",children:"React  shop"}),Object(f.jsxs)(D.a.Menu,{position:"right",children:[Object(f.jsxs)(D.a.Item,{name:"prices",children:["\u0418\u0442\u043e\u0433\u043e ",e.totalPrice," \u0440\u0443\u0431."]}),Object(f.jsx)(J.a,{trigger:Object(f.jsx)(D.a.Item,{name:"cart",children:Object(f.jsxs)(h.a,{primary:!0,children:["\u041a\u043e\u0440\u0437\u0438\u043d\u0430(",e.countCart,")"]})}),content:e.cardItems&&e.cardItems.map((function(t){return Object(f.jsx)(Y,Object(k.a)({deleteCards:e.deleteCards},t))})),on:"click",hideOnScroll:!0})]})]})},q=r(160),Q=r.n(q),X=Object(j.b)((function(e){return{totalPrice:e.cardsReducer.cardItems.reduce((function(e,t){return e+t.price}),0),countCart:e.cardsReducer.cardItems.length,cardItems:Q()(e.cardsReducer.cardItems,(function(e){return e.id}))}}),{deleteCards:function(e){return{type:"DELETE_CARDS",payload:e}}})((function(e){return Object(f.jsx)(W,{addCards:e.addCards,totalPrice:e.totalPrice,countCart:e.countCart,books:e.books,deleteCards:e.deleteCards,cardItems:e.cardItems})})),Z=function(e){Object(u.a)(r,e);var t=Object(d.a)(r);function r(){return Object(o.a)(this,r),t.apply(this,arguments)}return Object(s.a)(r,[{key:"render",value:function(){return Object(f.jsx)("div",{className:"App",children:Object(f.jsxs)(l.a,{children:[Object(f.jsx)(X,{}),Object(f.jsx)(M,{}),Object(f.jsx)(z,{})]})})}}]),r}(n.Component),$=r(47),ee=r(161),te=r(162),re=Object($.combineReducers)({booksReducer:E,filterReducer:_,cardsReducer:H}),ne=Object($.createStore)(re,Object(te.composeWithDevTools)(Object($.applyMiddleware)(ee.a)));r(295);i.a.render(Object(f.jsx)(a.a.StrictMode,{children:Object(f.jsx)(j.a,{store:ne,children:Object(f.jsx)(Z,{})})}),document.getElementById("root"))}},[[296,1,2]]]);
//# sourceMappingURL=main.af9a690d.chunk.js.map